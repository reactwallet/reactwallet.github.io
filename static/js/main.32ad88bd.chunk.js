(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5366:function(e,t,a){e.exports=a(5534)},5371:function(e,t,a){},5534:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),l=a.n(c),o=(a(5371),a(59)),u=a(20),i=a(21),s=a(23),d=a(22),m=a(24),p=a(9),h=a(40),f=a(5536),E=a(5538),g=a(5537),b=a(16),y=a(11),C=a(65),v=a.n(C),O=a(13),j=a(26),A=a.n(j),S=a(12),k=a.n(S),N=a(28),D=a.n(N),w=a(41),I=a.n(w),T=a(33),R=a.n(T),x=a(31),F=a.n(x),P=a(46),W=a.n(P),H=a(77),_=a.n(H),L=a(35),U=a.n(L),B=a(38),M=a.n(B),G=a(37),K=a.n(G),V=a(36),Y=a.n(V),J=a(141),z=a.n(J),Z=a(30),q=a.n(Z),X=["AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HRK","HUF","IDR","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","USD","ZAR"],$=function(){return"_"+Math.random().toString(36).substr(2,9)},Q=function(e,t,a){var n=t[a]||{};return e.reduce(function(e,t){return t.currency===a?e+Number(t.value):e+Number(t.value)/n[t.currency]},0).toFixed(2)+" "+a},ee=function(e){return{type:"ADD_ACCOUNT",payload:e}},te=function(e){return{type:"ADD_HISTORY",payload:e}},ae=function(e){return{type:"CHANGE_DEFAULT_CURRENCY",payload:e}},ne=function(e){return function(t,a){return fetch("https://api.exchangeratesapi.io/latest?base="+e).then(re).then(function(e){return e.json()}).then(function(e){var a;t((a=e,{type:"FETCH_RATES_SUCCESS",payload:Object(h.a)({},a.base,a.rates)}))}).catch(function(e){return t(function(e){return{type:"FETCH_RATES_FAILURE",payload:e}}(e))})}};function re(e){if(!e.ok)throw Error(e.statusText);return e}var ce=function(e){return{name:"",groupId:e.groups[0].id,currency:e.defaultCurrency,value:"",nameFieldError:!1}},le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){var n=t.target.value;"value"===e&&(n=Math.max(0,Number(t.target.value))),"name"===e&&n.trim().length&&a.setState({nameFieldError:!1}),a.setState(Object(h.a)({},e,n))}},a.handleOpen=function(e){a.setState(Object(O.a)({open:!0},ce(a.props)))},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){if(a.state.name){var e=a.state.value||0;a.props.rates[a.state.currency]||(a.props.fetchRates(a.state.currency),a.props.fetchRates(a.props.defaultCurrency)),a.props.addAccount({id:$(),name:a.state.name,groupId:a.state.groupId,currency:a.state.currency,value:e}),a.props.addHistory({text:"Created ".concat(a.state.name," account with ").concat(e," ").concat(a.state.currency," balance"),date:A()().format()}),a.props.hasAccounts||a.props.defaultCurrency===a.state.currency||(a.props.changeDefaultCurrency(a.state.currency),a.props.addHistory({text:"Default currency has been automatically changed to ".concat(a.state.currency),date:A()().format()})),a.handleClose()}else a.setState({nameFieldError:!0})},a.state=Object(O.a)({open:!1},ce(e)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{color:"primary","aria-label":"Add",className:e.fab,onClick:this.handleOpen},r.a.createElement(_.a,null)),r.a.createElement(U.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Y.a,{id:"form-dialog-title"},"Add Account"),r.a.createElement(K.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{error:this.state.nameFieldError,autoFocus:!0,fullWidth:!0,required:!0,label:"Account name",placeholder:"",value:this.state.name,onChange:this.handleChange("name"),InputLabelProps:{shrink:!0}}),r.a.createElement(q.a,{fullWidth:!0,select:!0,label:"Group",className:e.dense,value:this.state.groupId,onChange:this.handleChange("groupId"),SelectProps:{native:!0}},this.props.groups.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement(q.a,{fullWidth:!0,select:!0,label:"Currency",className:e.dense,value:this.state.currency,onChange:this.handleChange("currency"),SelectProps:{native:!0}},X.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})),r.a.createElement(q.a,{fullWidth:!0,label:"Amount (optional)",placeholder:"0.00",type:"number",className:e.dense,value:this.state.value,onChange:this.handleChange("value"),InputLabelProps:{shrink:!0}}))),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(k.a,{onClick:this.handleSubmit,color:"primary"},"Add"))))}}]),t}(r.a.Component),oe=Object(b.a)(Object(p.b)(function(e){return{hasAccounts:Boolean(e.accounts.length),defaultCurrency:e.settings.defaultCurrency,groups:e.groups,rates:e.rates}},{addAccount:ee,addHistory:te,fetchRates:ne,changeDefaultCurrency:ae}),Object(y.withStyles)(function(e){return{fab:{position:"fixed",bottom:6*e.spacing.unit,right:6*e.spacing.unit},dialog:{maxWidth:"80%",width:300},dense:{marginTop:3*e.spacing.unit}}}))(le),ue=a(143),ie=a.n(ue),se=a(79),de=a.n(se),me=a(78),pe=a.n(me),he=a(5535),fe=Object(b.a)(Object(y.withStyles)(function(e){return{linkListItem:{textDecoration:"none"},listItemButton:{color:e.palette.action.active,paddingLeft:6*e.spacing.unit,paddingRight:7*e.spacing.unit}}}),Object(p.b)())(function(e){var t=e.account,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{to:"/details/"+t.id,className:a.linkListItem},r.a.createElement(R.a,{button:!0,classes:{button:a.listItemButton}},r.a.createElement(F.a,{primary:t.name}),Number(t.value).toFixed(2)+" "+t.currency)),r.a.createElement(D.a,null))}),Ee=a(142),ge=a.n(Ee),be=Object(p.b)(function(e,t){var a=t.accounts||e.accounts;return{total:Q(a,e.rates,e.settings.defaultCurrency)}})(function(e){var t=e.total;return r.a.createElement(r.a.Fragment,null,~t.indexOf("NaN")?r.a.createElement(ge.a,{size:20}):t)}),ye=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.toggleGroup({groupId:a.props.group.id,collapsed:!a.props.group.collapsed})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.accounts,a=e.classes,n=e.group;return r.a.createElement(r.a.Fragment,null,t.length>0&&r.a.createElement(r.a.Fragment,{key:n.name},r.a.createElement(R.a,{button:!0,onClick:this.handleClick},r.a.createElement(F.a,{primary:n.name}),r.a.createElement("span",{className:a.total},r.a.createElement(be,{accounts:t})),n.collapsed?r.a.createElement(pe.a,null):r.a.createElement(de.a,null)),r.a.createElement(D.a,null),r.a.createElement(ie.a,{in:!n.collapsed,timeout:"auto",unmountOnExit:!0},r.a.createElement(I.a,{component:"div",disablePadding:!0},t.length>0&&t.map(function(e){return r.a.createElement(fe,{account:e,key:e.id})}))),r.a.createElement(D.a,null)))}}]),t}(r.a.Component),Ce=Object(b.a)(Object(y.withStyles)(function(e){return{total:{fontWeight:"bold",marginRight:2*e.spacing.unit}}}),Object(p.b)(function(e,t){return{accounts:e.accounts.filter(function(e){return e.groupId===t.group.id}).sort(function(e,t){return e.name>t.name?1:-1})}},{toggleGroup:function(e){return{type:"TOGGLE_GROUP",payload:e}}}))(ye),ve=a(44),Oe=a.n(ve),je=Object(y.withStyles)(function(e){return{empty:{paddingTop:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit,"&:last-child":{paddingBottom:3*e.spacing.unit}}}})(function(e){var t=e.classes,a=e.children,n=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{variant:"h5",className:t.empty},n),r.a.createElement(Oe.a,{variant:"subtitle1",className:t.empty},a))}),Ae=Object(b.a)(Object(y.withStyles)(function(e){return{total:{lineHeight:1.5,fontWeight:"bold",paddingRight:7*e.spacing.unit},loadButton:Object(O.a)({},e.typography.subtitle1,{textTransform:"none",textDecoration:"underline",padding:0,minWidth:"auto",color:"#0000EE","&:hover":{backgroundColor:"transparent"}})}}),Object(p.b)(function(e){return{hasAccounts:e.accounts.length>0,groups:e.groups}},{addHistory:te,fetchRates:ne,loadDemoData:function(){return{type:"LOAD_DEMO_DATA"}}}))(function(e){var t=e.addHistory,a=e.classes,n=e.groups,c=e.hasAccounts,l=e.loadDemoData,o=e.fetchRates;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null),c?r.a.createElement(I.a,{disablePadding:!0},r.a.createElement(W.a,{disableSticky:!0},"Accounts"),r.a.createElement(D.a,null),n.map(function(e){return r.a.createElement(Ce,{key:e.id,group:e})}),r.a.createElement(R.a,{className:a.total},r.a.createElement(F.a,{primary:"Total",disableTypography:!0}),r.a.createElement(be,null))):r.a.createElement(je,{title:"Your wallet is empty"},"Add accounts from the button below or \xa0",r.a.createElement(k.a,{color:"primary",onClick:function(e){l(),o("USD"),t({text:"Loaded the wallet with the demo data",date:A()().format()})},className:a.loadButton},"load"),"\xa0 some dummy data for demo purposes"))}),Se=a(153),ke=a(144),Ne=a.n(ke),De=a(146),we=a.n(De),Ie=a(67),Te=a.n(Ie),Re=a(145),xe=a.n(Re),Fe=a(100),Pe=a.n(Fe),We=function(){return r.a.createElement(je,{title:"Page not found"},"You can start from ",r.a.createElement(he.a,{to:"/"},"here"))},He=a(56),_e=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(){return function(e){a.setState({value:Math.max(0,Number(e.target.value))})}},a.handleOpen=function(){a.setState({open:!0,value:""})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.makeDeposit({accountId:a.props.account.id,value:a.state.value}),a.props.addHistory({text:"Deposited ".concat(a.state.value," ").concat(a.props.account.currency," to        ").concat(a.props.account.name),date:A()().format()}),a.handleClose()},a.state={open:!1,value:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{color:"primary",onClick:this.handleOpen},"Deposit",r.a.createElement(He.a,{style:{fontSize:16,marginLeft:6}})),r.a.createElement(U.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"deposit-dialog-title"},r.a.createElement(Y.a,{id:"deposit-dialog-title"},"Deposit Funds"),r.a.createElement(K.a,null,r.a.createElement(q.a,{autoFocus:!0,fullWidth:!0,label:"Amount",type:"number",value:this.state.value,onChange:this.handleChange("value")})),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(k.a,{onClick:this.handleSubmit,color:"primary"},"Deposit"))))}}]),t}(r.a.Component),Le=Object(b.a)(Object(p.b)(null,{makeDeposit:function(e){return{type:"MAKE_DEPOSIT",payload:e}},addHistory:te}),Object(y.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300}}}))(_e),Ue=a(58),Be=a.n(Ue),Me=a(80),Ge=a.n(Me),Ke=a(57),Ve=a.n(Ke),Ye=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleOpen=function(e){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.deleteAccount(a.props.account.id),a.props.addHistory({text:"Removed account ".concat(a.props.account.name),date:A()().format()}),a.handleClose()},a.state={open:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{className:e.button,"aria-label":"Delete",onClick:this.handleOpen},r.a.createElement(Ge.a,null)),r.a.createElement(U.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Y.a,{id:"form-dialog-title"},"Delete Account"),r.a.createElement(K.a,null,r.a.createElement(Be.a,{className:e.dense},"This action will remove both the account and its balance and cannot be undone.",r.a.createElement("br",null),r.a.createElement("br",null),"Are you sure?")),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(he.a,{to:"/",className:e.buttonLink},r.a.createElement(k.a,{onClick:this.handleSubmit,color:"secondary"},"Delete")))))}}]),t}(r.a.Component),Je=Object(b.a)(Object(p.b)(null,{deleteAccount:function(e){return{type:"DELETE_ACCOUNT",payload:e}},addHistory:te}),Object(y.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:450},buttonLink:{textDecoration:"none"}}}))(Ye),ze=a(81),Ze=a.n(ze),qe=function(e){return{name:e.account.name,groupId:e.account.groupId,nameFieldError:!1}},Xe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){var n=t.target.value;"name"===e&&n.trim().length&&a.setState({nameFieldError:!1}),a.setState(Object(h.a)({},e,n))}},a.handleOpen=function(e){a.setState(Object(O.a)({open:!0},qe(a.props)))},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){if(a.state.name){a.props.editAccount({id:a.props.account.id,name:a.state.name,groupId:a.state.groupId});var e=a.props.groups.find(function(e){return e.id===a.props.account.groupId}),t=a.props.groups.find(function(e){return e.id===a.state.groupId});a.props.addHistory({text:"Account ".concat(a.props.account.name," (").concat(e.name,") was changed to           ").concat(a.state.name," (").concat(t.name,") "),date:A()().format()}),a.handleClose()}else a.setState({nameFieldError:!0})},a.state=Object(O.a)({open:!1},qe(e)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{className:e.button,"aria-label":"Edit",onClick:this.handleOpen},r.a.createElement(Ze.a,null)),r.a.createElement(U.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Y.a,{id:"form-dialog-title"},"Edit Account"),r.a.createElement(K.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{error:this.state.nameFieldError,autoFocus:!0,fullWidth:!0,required:!0,label:"Account name",placeholder:"",value:this.state.name,onChange:this.handleChange("name"),InputLabelProps:{shrink:!0}}),r.a.createElement(q.a,{fullWidth:!0,select:!0,label:"Group",className:e.dense,value:this.state.groupId,onChange:this.handleChange("groupId"),SelectProps:{native:!0}},this.props.groups.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(k.a,{onClick:this.handleSubmit,color:"primary"},"Edit"))))}}]),t}(r.a.Component),$e=Object(b.a)(Object(p.b)(function(e){return{groups:e.groups}},{editAccount:function(e){return{type:"EDIT_ACCOUNT",payload:e}},addHistory:te}),Object(y.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300},dense:{marginTop:3*e.spacing.unit}}}))(Xe),Qe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(){return function(e){var t=e.target.value;a.setState(function(e,a){return t=Math.max(0,Number(t)),{value:t=Math.min(t,a.account.value)}})}},a.handleOpen=function(){a.setState({open:!0,value:""})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.makeWithdrawal({accountId:a.props.account.id,value:a.state.value}),a.props.addHistory({text:"Withdrew ".concat(a.state.value," ").concat(a.props.account.currency," from        ").concat(a.props.account.name),date:A()().format()}),a.handleClose()},a.state={open:!1,value:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{color:"secondary",onClick:this.handleOpen},"Withdraw",r.a.createElement(He.c,{style:{fontSize:16,marginLeft:6}})),r.a.createElement(U.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"withdraw-dialog-title"},r.a.createElement(Y.a,{id:"withdraw-dialog-title"},"Withdraw Funds"),r.a.createElement(K.a,null,r.a.createElement(q.a,{autoFocus:!0,fullWidth:!0,label:"Amount",type:"number",value:this.state.value,onChange:this.handleChange("value")})),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(k.a,{onClick:this.handleSubmit,color:"secondary"},"Withdraw"))))}}]),t}(r.a.Component),et=Object(b.a)(Object(p.b)(null,{makeWithdrawal:function(e){return{type:"MAKE_WITHDRAWAL",payload:e}},addHistory:te}),Object(y.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300}}}))(Qe),tt=a(154),at=function(e){return{fromAccountValue:"",toAccountId:e.accounts[0].id}},nt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){var n=t.target.value;a.setState(function(t,a){return"fromAccountValue"===e&&(n=Math.max(0,Number(n)),n=Math.min(n,a.fromAccount.value)),Object(h.a)({},e,n)})}},a.handleOpen=function(){a.setState(function(e,t){return Object(O.a)({open:!0},at(t))})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){if(a.state.fromAccountValue>0){var e=1,t=a.props.fromAccount,n=a.props.accounts.find(function(e){return e.id===a.state.toAccountId}),r={fromAccountId:a.props.fromAccount.id,fromAccountValue:a.state.fromAccountValue,toAccountId:a.state.toAccountId};if(t.currency!==n.currency)if(!(e=(a.props.rates[t.currency]||{})[n.currency]))return alert("No rate for this, please try again. If that doesn't help, refresh the page"),void a.handleClose();r.toAccountValue=r.fromAccountValue*e,a.props.makeTransfer(r),a.props.addHistory({text:"Transfered ".concat(t.value," ").concat(t.currency," from           ").concat(t.name," to ").concat(r.toAccountValue," ").concat(n.currency," in           ").concat(n.name),date:A()().format()})}a.handleClose()},a.state=Object(O.a)({open:!1},at(e)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=Object(tt.a)(t,["classes"]),c=n.accounts.find(function(t){return t.id===e.state.toAccountId}),l=1;n.fromAccount.currency!==c.currency&&(l=(n.rates[n.fromAccount.currency]||{})[c.currency]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{onClick:this.handleOpen,className:a.actionButton},"Transfer",r.a.createElement(He.b,{style:{fontSize:16,marginLeft:6}})),r.a.createElement(U.a,{PaperProps:{className:a.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"transfer-dialog-title"},r.a.createElement(Y.a,{id:"transfer-dialog-title"},"Transfer Funds"),r.a.createElement(K.a,null,r.a.createElement(q.a,{select:!0,fullWidth:!0,label:"Transfer To",value:this.state.toAccountId,onChange:this.handleChange("toAccountId"),SelectProps:{native:!0}},n.accounts.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement(q.a,{fullWidth:!0,label:"Amount",type:"number",value:this.state.fromAccountValue,onChange:this.handleChange("fromAccountValue"),className:a.dense}),r.a.createElement(Be.a,{className:a.dense},"The transfer will happen with an exchange rate of: ",r.a.createElement("b",null,String(l)))),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(k.a,{onClick:this.handleSubmit,className:a.actionButton},"Transfer"))))}}]),t}(r.a.Component),rt=Object(b.a)(Object(p.b)(function(e,t){return{accounts:e.accounts.filter(function(e){return e.id!==t.fromAccount.id}).sort(function(e,t){return e.name>t.name?1:-1}),rates:e.rates}},{makeTransfer:function(e){return{type:"MAKE_TRANSFER",payload:e}},addHistory:te}),Object(y.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300},dense:{marginTop:3*e.spacing.unit},actionButton:{color:"green"}}}))(nt),ct=Object(b.a)(Object(y.withStyles)(function(e){return{actions:{display:"flex",marginBottom:3*e.spacing.unit,marginTop:3*e.spacing.unit,justifyContent:"space-evenly"},term:{maxWidth:"10em"},desc:{fontWeight:"bold"}}}),Object(p.b)(function(e,t){return{account:e.accounts.find(function(e){return e.id===t.match.params.accountId})||{},hasOtherAccounts:e.accounts.length>1,rates:e.rates}},{fetchRates:ne}))(function(e){var t=e.account,a=e.classes,n=e.fetchRates,c=e.hasOtherAccounts,l=e.rates;if(t.id){l[t.currency]||n(t.currency);var o=Object.entries(l[t.currency]||{}).sort(function(e,t){return e[0]>t[0]?1:-1});return r.a.createElement(I.a,{disablePadding:!0},r.a.createElement(W.a,{disableSticky:!0},"Details"),r.a.createElement(D.a,null),r.a.createElement(R.a,null,r.a.createElement(F.a,{primary:"Account",className:a.term}),r.a.createElement(F.a,{primary:t.name,primaryTypographyProps:{className:a.desc}}),r.a.createElement($e,{account:t}),r.a.createElement(Je,{account:t})),r.a.createElement(D.a,null),r.a.createElement(R.a,null,r.a.createElement(F.a,{primary:"Balance",className:a.term}),r.a.createElement(F.a,{primary:Number(t.value).toFixed(2)+" "+t.currency,primaryTypographyProps:{className:a.desc}})),r.a.createElement(D.a,null),r.a.createElement("div",{className:a.actions},r.a.createElement(Le,{account:t}),r.a.createElement(et,{account:t}),c&&r.a.createElement(rt,{fromAccount:t})),r.a.createElement(D.a,null),r.a.createElement(Ne.a,{className:a.table},r.a.createElement(xe.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Te.a,null,"All currency rates against the ",t.currency),r.a.createElement(Te.a,{align:"right"},"Rate"))),r.a.createElement(we.a,null,o.map(function(e){var t=Object(Se.a)(e,2),a=t[0],n=t[1];return r.a.createElement(Pe.a,{key:a},r.a.createElement(Te.a,{component:"th",scope:"row"},a),r.a.createElement(Te.a,{align:"right"},n))}))))}return r.a.createElement(We,null)}),lt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){return function(e){var t=e.target.value;a.props.fetchRates(t),a.props.changeDefaultCurrency(t),a.props.addHistory({text:"Default currency was changed to ".concat(t),date:A()().format()})}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(q.a,{select:!0,value:this.props.defaultCurrency,onChange:this.handleChange(),SelectProps:{native:!0}},X.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))}}]),t}(r.a.Component),ot={addAccount:ee,addHistory:te,fetchRates:ne,changeDefaultCurrency:ae},ut=Object(p.b)(function(e){return{defaultCurrency:e.settings.defaultCurrency}},ot)(lt),it=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.resetData(),a.handleClose()},a.state={open:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(k.a,{onClick:this.handleOpen,color:"secondary"},"Reset"),r.a.createElement(U.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"reset-dialog-title"},r.a.createElement(Y.a,{id:"reset-dialog-title"},"Reset All Data"),r.a.createElement(K.a,null,r.a.createElement(Be.a,{className:e.dialogText},"This action will remove all accounts, rates and history and cannot be undone.",r.a.createElement("br",null),r.a.createElement("br",null),"Are you sure?")),r.a.createElement(M.a,null,r.a.createElement(k.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(he.a,{to:"/",className:e.buttonLink},r.a.createElement(k.a,{onClick:this.handleSubmit,color:"secondary"},"Reset")))))}}]),t}(r.a.Component),st=Object(b.a)(Object(y.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:450},buttonLink:{textDecoration:"none"}}}),Object(p.b)(null,{resetData:function(){return{type:"RESET_DATA"}}}))(it),dt=function(){return r.a.createElement(I.a,{disablePadding:!0},r.a.createElement(W.a,{disableSticky:!0},"Settings"),r.a.createElement(D.a,null),r.a.createElement(R.a,null,r.a.createElement(F.a,{primary:"Default Currency"}),r.a.createElement(ut,null)),r.a.createElement(D.a,null),r.a.createElement(R.a,null,r.a.createElement(F.a,{primary:"Reset All Data"}),r.a.createElement(st,null)),r.a.createElement(D.a,null))},mt=a(147),pt=a.n(mt),ht=a(148),ft=a.n(ht),Et=a(82),gt=a.n(Et),bt=a(149),yt=a.n(bt),Ct=a(101),vt=a.n(Ct),Ot=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){a.setState({menuAnchorEl:e.currentTarget})},a.handleClose=function(){a.setState({menuAnchorEl:null})},a.state={menuAnchorEl:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.menuAnchorEl;return r.a.createElement(pt.a,{position:"static",color:"primary"},r.a.createElement(ft.a,null,r.a.createElement(Oe.a,{variant:"h6",color:"inherit",className:e.grow},r.a.createElement(he.a,{to:"/",className:e.link},"React Wallet")),r.a.createElement(Ve.a,{"aria-owns":t?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick,color:"inherit"},r.a.createElement(gt.a,null)),r.a.createElement(yt.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:this.handleClose},r.a.createElement(vt.a,{component:he.a,to:"/history",onClick:this.handleClose,className:e.menuItem},"History"),r.a.createElement(vt.a,{component:he.a,to:"/settings",onClick:this.handleClose,className:e.menuItem},"Settings"))))}}]),t}(r.a.Component),jt=Object(y.withStyles)({grow:{flexGrow:1},link:{textDecoration:"none",color:"inherit"},menuItem:{minWidth:"120px"}})(Ot),At=Object(p.b)(function(e){return{history:e.history}})(function(e){var t=e.history;return t.length?r.a.createElement(I.a,{disablePadding:!0},r.a.createElement(W.a,{disableSticky:!0},"History"),r.a.createElement(D.a,null),t.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(R.a,null,r.a.createElement(F.a,{primary:e.text}),r.a.createElement(F.a,{primary:A()(e.date).calendar(),style:{textAlign:"right"}})),r.a.createElement(D.a,null))})):r.a.createElement(je,{title:"Your history is empty"},"Add some accounts and make some transfers to populate the list")}),St=Object(b.a)(Object(y.withStyles)(function(e){return{paper:Object(h.a)({width:"auto",minWidth:400,margin:2*e.spacing.unit},e.breakpoints.up(680),{width:600,marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,marginLeft:"auto",marginRight:"auto"})}}),Object(p.b)())(function(e){var t=e.classes;return r.a.createElement(f.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(jt,null),r.a.createElement(v.a,{className:t.paper},r.a.createElement(E.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:Ae}),r.a.createElement(g.a,{path:"/history",component:At}),r.a.createElement(g.a,{path:"/settings",component:dt}),r.a.createElement(g.a,{path:"/details/:accountId",render:function(e){return r.a.createElement(ct,e)}}),r.a.createElement(g.a,{component:We})))))}),kt=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.accounts.map(function(e){return e.currency});Object(o.a)(new Set(e))>1&&this.props.fetchRates(this.props.defaultCurrency)}},{key:"render",value:function(){return r.a.createElement(St,null)}}]),t}(n.Component),Nt=Object(p.b)(function(e){return{accounts:e.accounts,defaultCurrency:e.settings.defaultCurrency}},{fetchRates:ne})(kt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Dt=a(151),wt=a(49),It=a(152),Tt=["Cash","Cards & Bank Accounts","Debts","Investments","Others"].map(function(e){return{id:$(),name:e}}),Rt={defaultCurrency:"EUR"},xt=Object(wt.c)({accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ACCOUNT":return[].concat(Object(o.a)(e),[t.payload]);case"EDIT_ACCOUNT":return e.map(function(e){return e.id===t.payload.id?Object(O.a)({},e,t.payload):e});case"DELETE_ACCOUNT":return e.filter(function(e){return e.id!==t.payload});case"MAKE_DEPOSIT":return e.map(function(e){return e.id===t.payload.accountId?Object(O.a)({},e,{value:Number(e.value)+t.payload.value}):e});case"MAKE_WITHDRAWAL":return e.map(function(e){return e.id===t.payload.accountId?Object(O.a)({},e,{value:Math.max(0,Number(e.value)-t.payload.value)}):e});case"MAKE_TRANSFER":return e.map(function(e){return e.id===t.payload.fromAccountId?Object(O.a)({},e,{value:Math.max(0,Number(e.value)-t.payload.fromAccountValue)}):e.id===t.payload.toAccountId?Object(O.a)({},e,{value:Number(e.value)+t.payload.toAccountValue}):e});default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_GROUP":return e.map(function(e){return e.id===t.payload.groupId?Object(O.a)({},e,{collapsed:t.payload.collapsed}):e});default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_HISTORY":return t.payload.text=t.payload.text.replace(/ {2}/g,""),[t.payload].concat(Object(o.a)(e));default:return e}},rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RATES_SUCCESS":return Object(O.a)({},e,t.payload);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_DEFAULT_CURRENCY":return Object(O.a)({},e,{defaultCurrency:t.payload});default:return e}}}),Ft=Object(O.a)({accounts:[],history:[],rates:{}},JSON.parse(localStorage.getItem("reactwallet"))),Pt=Object(wt.d)(function(e,t){return"RESET_DATA"===t.type&&(e=void 0),"LOAD_DEMO_DATA"===t.type&&(e=Object(O.a)({},e,{accounts:[{name:"Wallet",id:$(),currency:"USD",value:500,groupId:e.groups[0].id},{name:"Travel Change",id:$(),currency:"EUR",value:95,groupId:e.groups[0].id},{name:"Debit Card",id:$(),currency:"USD",value:8500,groupId:e.groups[1].id},{name:"TransferWise",id:$(),currency:"USD",value:1500,groupId:e.groups[1].id},{name:"Canadian Account",id:$(),currency:"CAD",value:500,groupId:e.groups[1].id},{name:"P2P Lending",id:$(),currency:"EUR",value:5e3,groupId:e.groups[3].id},{name:"Stocks",id:$(),currency:"USD",value:5e3,groupId:e.groups[3].id},{name:"Crypto funds",id:$(),currency:"USD",value:5e3,groupId:e.groups[3].id},{name:"PayPal",id:$(),currency:"USD",value:500,groupId:e.groups[4].id}],settings:{defaultCurrency:"USD"}})),xt(e,t)},Ft,Object(wt.a)(It.a));Pt.subscribe(Object(Dt.throttle)(function(){localStorage.setItem("reactwallet",JSON.stringify(Pt.getState()))},1e3));var Wt=Pt;l.a.render(r.a.createElement(p.a,{store:Wt},r.a.createElement(Nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5366,2,1]]]);
//# sourceMappingURL=main.32ad88bd.chunk.js.map