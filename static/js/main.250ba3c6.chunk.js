(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5364:function(e,t,a){e.exports=a(5530)},5369:function(e,t,a){},5530:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),o=a.n(c),l=(a(5369),a(59)),u=a(21),i=a(22),s=a(24),m=a(23),d=a(25),p=a(10),h=a(5532),f=a(5534),E=a(5533),g=a(12),y=a(28),b=a.n(y),C=a(16),v=a(11),O=a(13),j=a.n(O),A=a(48),S=a.n(A),N=a(39),k=a.n(N),D=a(36),I=a.n(D),w=a(31),T=a.n(w),R=a(141),x=a.n(R),F=a(40),W=a.n(F),P=a(76),_=a.n(P),H=a(75),U=a.n(H),L=a(5531),B=Object(C.a)(Object(v.withStyles)(function(e){return{linkListItem:{textDecoration:"none"},listItemButton:{color:e.palette.action.active,paddingLeft:6*e.spacing.unit,paddingRight:7*e.spacing.unit}}}),Object(p.b)())(function(e){var t=e.account,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{to:"/details/"+t.id,className:a.linkListItem},r.a.createElement(k.a,{button:!0,classes:{button:a.listItemButton}},r.a.createElement(I.a,{primary:t.name}),Number(t.value).toFixed(2)+" "+t.currency)),r.a.createElement(W.a,null))}),M=a(140),G=a.n(M),K=function(){return"_"+Math.random().toString(36).substr(2,9)},V=function(e,t,a){var n=t[a]||{};return e.reduce(function(e,t){return t.currency===a?e+Number(t.value):e+Number(t.value)/n[t.currency]},0).toFixed(2)+" "+a},Y=Object(p.b)(function(e,t){var a=t.accounts||e.accounts;return{total:V(a,e.rates,e.settings.defaultCurrency)}})(function(e){var t=e.total;return r.a.createElement(r.a.Fragment,null,~t.indexOf("NaN")?r.a.createElement(G.a,{size:20}):t)}),J=a(41),z=function(e){return{type:"ADD_HISTORY",payload:e}},Z=function(e){return function(t,a){return fetch("https://api.exchangeratesapi.io/latest?base="+e).then(q).then(function(e){return e.json()}).then(function(e){var a;t((a=e,{type:"FETCH_RATES_SUCCESS",payload:Object(J.a)({},a.base,a.rates)}))}).catch(function(e){return t(function(e){return{type:"FETCH_RATES_FAILURE",payload:e}}(e))})}};function q(e){if(!e.ok)throw Error(e.statusText);return e}var X=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.toggleGroup({groupId:a.props.group.id,collapsed:!a.props.group.collapsed})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.accounts,a=e.classes,n=e.group;return r.a.createElement(r.a.Fragment,null,t.length>0&&r.a.createElement(r.a.Fragment,{key:n.name},r.a.createElement(k.a,{button:!0,onClick:this.handleClick},r.a.createElement(I.a,{primary:n.name}),r.a.createElement("span",{className:a.total},r.a.createElement(Y,{accounts:t})),n.collapsed?r.a.createElement(U.a,null):r.a.createElement(_.a,null)),r.a.createElement(W.a,null),r.a.createElement(x.a,{in:!n.collapsed,timeout:"auto",unmountOnExit:!0},r.a.createElement(S.a,{component:"div",disablePadding:!0},t.length>0&&t.map(function(e){return r.a.createElement(B,{account:e,key:e.id})}))),r.a.createElement(W.a,null)))}}]),t}(r.a.Component),$=Object(C.a)(Object(v.withStyles)(function(e){return{total:{fontWeight:"bold",marginRight:2*e.spacing.unit}}}),Object(p.b)(function(e,t){return{accounts:e.accounts.filter(function(e){return e.groupId===t.group.id}).sort(function(e,t){return e.name>t.name?1:-1})}},{toggleGroup:function(e){return{type:"TOGGLE_GROUP",payload:e}}}))(X),Q=Object(C.a)(Object(v.withStyles)(function(e){return{empty:{padding:3*e.spacing.unit,paddingBottom:0,textAlign:"center"},total:{fontWeight:"bold",paddingRight:7*e.spacing.unit},loadButton:Object(g.a)({},e.typography.subtitle1,{textTransform:"none",textDecoration:"underline",padding:0,minWidth:"auto",color:"#0000EE","&:hover":{backgroundColor:"transparent"}})}}),Object(p.b)(function(e){return{hasAccounts:e.accounts.length>0,groups:e.groups}},{addHistory:z,fetchRates:Z,loadDemoData:function(){return{type:"LOAD_DEMO_DATA"}}}))(function(e){var t=e.addHistory,a=e.classes,n=e.groups,c=e.hasAccounts,o=e.loadDemoData,l=e.fetchRates;return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(S.a,{component:"nav"},n.map(function(e){return r.a.createElement($,{key:e.id,group:e})}),r.a.createElement(k.a,{className:a.total},r.a.createElement(I.a,{primary:"Total",disableTypography:!0}),r.a.createElement(Y,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"h5",className:a.empty},"Your wallet is empty"),r.a.createElement(T.a,{variant:"subtitle1",className:a.empty},"Add accounts from the top menu or",r.a.createElement("br",null),r.a.createElement(j.a,{color:"primary",onClick:function(e){o(),l("USD"),t({text:"Loaded the wallet with the demo data",date:b()().format()})},className:a.loadButton},"load"),"\xa0 some dummy data for demo purposes")))}),ee=a(151),te=a(142),ae=a.n(te),ne=a(144),re=a.n(ne),ce=a(66),oe=a.n(ce),le=a(143),ue=a.n(le),ie=a(99),se=a.n(ie),me=Object(v.withStyles)(function(e){return{empty:{paddingTop:3*e.spacing.unit,textAlign:"center"}}})(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"h5",className:t.empty},"Page not found"),r.a.createElement(T.a,{variant:"subtitle1",className:t.empty},"You can start from ",r.a.createElement(L.a,{to:"/"},"here")))}),de=a(56),pe=a(32),he=a.n(pe),fe=a(35),Ee=a.n(fe),ge=a(34),ye=a.n(ge),be=a(33),Ce=a.n(be),ve=a(30),Oe=a.n(ve),je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(){return function(e){a.setState({value:Math.max(0,Number(e.target.value))})}},a.handleOpen=function(){a.setState({open:!0,value:""})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.makeDeposit({accountId:a.props.account.id,value:a.state.value}),a.props.addHistory({text:"Deposited ".concat(a.state.value," ").concat(a.props.account.currency," to        ").concat(a.props.account.name),date:b()().format()}),a.handleClose()},a.state={open:!1,value:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{color:"primary",onClick:this.handleOpen},"Deposit",r.a.createElement(de.a,{style:{fontSize:16,marginLeft:6}})),r.a.createElement(he.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"deposit-dialog-title"},r.a.createElement(Ce.a,{id:"deposit-dialog-title"},"Deposit Funds"),r.a.createElement(ye.a,null,r.a.createElement(Oe.a,{autoFocus:!0,fullWidth:!0,label:"Amount",type:"number",value:this.state.value,onChange:this.handleChange("value")})),r.a.createElement(Ee.a,null,r.a.createElement(j.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(j.a,{onClick:this.handleSubmit,color:"primary"},"Deposit"))))}}]),t}(r.a.Component),Ae=Object(C.a)(Object(p.b)(null,{makeDeposit:function(e){return{type:"MAKE_DEPOSIT",payload:e}},addHistory:z}),Object(v.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300}}}))(je),Se=a(58),Ne=a.n(Se),ke=a(77),De=a.n(ke),Ie=a(57),we=a.n(Ie),Te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleOpen=function(e){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.deleteAccount(a.props.account.id),a.props.addHistory({text:"Removed account ".concat(a.props.account.name),date:b()().format()}),a.handleClose()},a.state={open:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{className:e.button,"aria-label":"Delete",onClick:this.handleOpen},r.a.createElement(De.a,null)),r.a.createElement(he.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Delete Account"),r.a.createElement(ye.a,null,r.a.createElement(Ne.a,{className:e.dense},"This action will remove both the account and its balance and cannot be undone.",r.a.createElement("br",null),r.a.createElement("br",null),"Are you sure?")),r.a.createElement(Ee.a,null,r.a.createElement(j.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(L.a,{to:"/",className:e.buttonLink},r.a.createElement(j.a,{onClick:this.handleSubmit,color:"secondary"},"Delete")))))}}]),t}(r.a.Component),Re=Object(C.a)(Object(p.b)(null,{deleteAccount:function(e){return{type:"DELETE_ACCOUNT",payload:e}},addHistory:z}),Object(v.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:450},buttonLink:{textDecoration:"none"}}}))(Te),xe=a(78),Fe=a.n(xe),We=function(e){return{name:e.account.name,groupId:e.account.groupId,nameFieldError:!1}},Pe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){return function(t){var n=t.target.value;"name"===e&&n.trim().length&&a.setState({nameFieldError:!1}),a.setState(Object(J.a)({},e,n))}},a.handleOpen=function(e){a.setState(Object(g.a)({open:!0},We(a.props)))},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){if(a.state.name){a.props.editAccount({id:a.props.account.id,name:a.state.name,groupId:a.state.groupId});var e=a.props.groups.find(function(e){return e.id===a.props.account.groupId}),t=a.props.groups.find(function(e){return e.id===a.state.groupId});a.props.addHistory({text:"Account ".concat(a.props.account.name," (").concat(e.name,") was changed to           ").concat(a.state.name," (").concat(t.name,") "),date:b()().format()}),a.handleClose()}else a.setState({nameFieldError:!0})},a.state=Object(g.a)({open:!1},We(e)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{className:e.button,"aria-label":"Edit",onClick:this.handleOpen},r.a.createElement(Fe.a,null)),r.a.createElement(he.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Edit Account"),r.a.createElement(ye.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{error:this.state.nameFieldError,autoFocus:!0,fullWidth:!0,required:!0,label:"Account name",placeholder:"",value:this.state.name,onChange:this.handleChange("name"),InputLabelProps:{shrink:!0}}),r.a.createElement(Oe.a,{fullWidth:!0,select:!0,label:"Group",className:e.dense,value:this.state.groupId,onChange:this.handleChange("groupId"),SelectProps:{native:!0}},this.props.groups.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(Ee.a,null,r.a.createElement(j.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(j.a,{onClick:this.handleSubmit,color:"primary"},"Edit"))))}}]),t}(r.a.Component),_e=Object(C.a)(Object(p.b)(function(e){return{groups:e.groups}},{editAccount:function(e){return{type:"EDIT_ACCOUNT",payload:e}},addHistory:z}),Object(v.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300},dense:{marginTop:3*e.spacing.unit}}}))(Pe),He=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(){return function(e){var t=e.target.value;a.setState(function(e,a){return t=Math.max(0,Number(t)),{value:t=Math.min(t,a.account.value)}})}},a.handleOpen=function(){a.setState({open:!0,value:""})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){a.props.makeWithdrawal({accountId:a.props.account.id,value:a.state.value}),a.props.addHistory({text:"Withdrew ".concat(a.state.value," ").concat(a.props.account.currency," from        ").concat(a.props.account.name),date:b()().format()}),a.handleClose()},a.state={open:!1,value:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{color:"secondary",onClick:this.handleOpen},"Withdraw",r.a.createElement(de.c,{style:{fontSize:16,marginLeft:6}})),r.a.createElement(he.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"withdraw-dialog-title"},r.a.createElement(Ce.a,{id:"withdraw-dialog-title"},"Withdraw Funds"),r.a.createElement(ye.a,null,r.a.createElement(Oe.a,{autoFocus:!0,fullWidth:!0,label:"Amount",type:"number",value:this.state.value,onChange:this.handleChange("value")})),r.a.createElement(Ee.a,null,r.a.createElement(j.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(j.a,{onClick:this.handleSubmit,color:"secondary"},"Withdraw"))))}}]),t}(r.a.Component),Ue=Object(C.a)(Object(p.b)(null,{makeWithdrawal:function(e){return{type:"MAKE_WITHDRAWAL",payload:e}},addHistory:z}),Object(v.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300}}}))(He),Le=a(152),Be=function(e){return{fromAccountValue:"",toAccountId:e.accounts[0].id}},Me=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){return function(t){var n=t.target.value;a.setState(function(t,a){return"fromAccountValue"===e&&(n=Math.max(0,Number(n)),n=Math.min(n,a.fromAccount.value)),Object(J.a)({},e,n)})}},a.handleOpen=function(){a.setState(function(e,t){return Object(g.a)({open:!0},Be(t))})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(){if(a.state.fromAccountValue>0){var e=1,t=a.props.fromAccount,n=a.props.accounts.find(function(e){return e.id===a.state.toAccountId}),r={fromAccountId:a.props.fromAccount.id,fromAccountValue:a.state.fromAccountValue,toAccountId:a.state.toAccountId};if(t.currency!==n.currency)if(!(e=(a.props.rates[t.currency]||{})[n.currency]))return alert("No rate for this, please try again. If that doesn't help, refresh the page"),void a.handleClose();r.toAccountValue=r.fromAccountValue*e,a.props.makeTransfer(r),a.props.addHistory({text:"Transfered ".concat(t.value," ").concat(t.currency," from           ").concat(t.name," to ").concat(r.toAccountValue," ").concat(n.currency," in           ").concat(n.name),date:b()().format()})}a.handleClose()},a.state=Object(g.a)({open:!1},Be(e)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=Object(Le.a)(t,["classes"]),c=n.accounts.find(function(t){return t.id===e.state.toAccountId}),o=1;n.fromAccount.currency!==c.currency&&(o=(n.rates[n.fromAccount.currency]||{})[c.currency]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{onClick:this.handleOpen,className:a.actionButton},"Transfer",r.a.createElement(de.b,{style:{fontSize:16,marginLeft:6}})),r.a.createElement(he.a,{PaperProps:{className:a.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"transfer-dialog-title"},r.a.createElement(Ce.a,{id:"transfer-dialog-title"},"Transfer Funds"),r.a.createElement(ye.a,null,r.a.createElement(Oe.a,{select:!0,fullWidth:!0,label:"Transfer To",value:this.state.toAccountId,onChange:this.handleChange("toAccountId"),SelectProps:{native:!0}},n.accounts.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement(Oe.a,{fullWidth:!0,label:"Amount",type:"number",value:this.state.fromAccountValue,onChange:this.handleChange("fromAccountValue"),className:a.dense}),r.a.createElement(Ne.a,{className:a.dense},"The transfer will happen with an exchange rate of: ",r.a.createElement("b",null,String(o)))),r.a.createElement(Ee.a,null,r.a.createElement(j.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(j.a,{onClick:this.handleSubmit,className:a.actionButton},"Transfer"))))}}]),t}(r.a.Component),Ge=Object(C.a)(Object(p.b)(function(e,t){return{accounts:e.accounts.filter(function(e){return e.id!==t.fromAccount.id}).sort(function(e,t){return e.name>t.name?1:-1}),rates:e.rates}},{makeTransfer:function(e){return{type:"MAKE_TRANSFER",payload:e}},addHistory:z}),Object(v.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300},dense:{marginTop:3*e.spacing.unit},actionButton:{color:"green"}}}))(Me),Ke=Object(C.a)(Object(v.withStyles)(function(e){return{root:{margin:3*e.spacing.unit},actions:{display:"flex",marginBottom:3*e.spacing.unit,marginTop:3*e.spacing.unit,justifyContent:"space-evenly"},term:{maxWidth:"10em"},desc:{fontWeight:"bold"}}}),Object(p.b)(function(e,t){return{account:e.accounts.find(function(e){return e.id===t.match.params.accountId})||{},hasOtherAccounts:e.accounts.length>1,rates:e.rates}},{fetchRates:Z}))(function(e){var t=e.account,a=e.classes,n=e.fetchRates,c=e.hasOtherAccounts,o=e.rates;if(t.id){o[t.currency]||n(t.currency);var l=Object.entries(o[t.currency]||{}).sort(function(e,t){return e[0]>t[0]?1:-1});return r.a.createElement("div",{className:a.root},r.a.createElement(k.a,null,r.a.createElement(I.a,{primary:"Account",className:a.term}),r.a.createElement(I.a,{primary:t.name,primaryTypographyProps:{className:a.desc}}),r.a.createElement(_e,{account:t}),r.a.createElement(Re,{account:t})),r.a.createElement(W.a,null),r.a.createElement(k.a,null,r.a.createElement(I.a,{primary:"Balance",className:a.term}),r.a.createElement(I.a,{primary:Number(t.value).toFixed(2)+" "+t.currency,primaryTypographyProps:{className:a.desc}})),r.a.createElement(W.a,null),r.a.createElement("div",{className:a.actions},r.a.createElement(Ae,{account:t}),r.a.createElement(Ue,{account:t}),c&&r.a.createElement(Ge,{fromAccount:t})),r.a.createElement(W.a,null),r.a.createElement(ae.a,{className:a.table},r.a.createElement(ue.a,null,r.a.createElement(se.a,null,r.a.createElement(oe.a,null,"All currency rates against the ",t.currency),r.a.createElement(oe.a,{align:"right"},"Rate"))),r.a.createElement(re.a,null,l.map(function(e){var t=Object(ee.a)(e,2),a=t[0],n=t[1];return r.a.createElement(se.a,{key:a},r.a.createElement(oe.a,{component:"th",scope:"row"},a),r.a.createElement(oe.a,{align:"right"},n))}))))}return r.a.createElement(me,null)}),Ve=a(145),Ye=a.n(Ve),Je=a(146),ze=a.n(Je),Ze=a(79),qe=a.n(Ze),Xe=a(147),$e=a.n(Xe),Qe=a(46),et=a.n(Qe),tt=["AUD","BGN","BRL","CAD","CHF","CNY","CZK","DKK","EUR","GBP","HKD","HRK","HUF","IDR","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","NZD","PHP","PLN","RON","RUB","SEK","SGD","THB","TRY","USD","ZAR"],at=function(e){return{name:"",groupId:e.groups[0].id,currency:e.defaultCurrency,value:"",nameFieldError:!1}},nt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){return function(t){var n=t.target.value;"value"===e&&(n=Math.max(0,Number(t.target.value))),"name"===e&&n.trim().length&&a.setState({nameFieldError:!1}),a.setState(Object(J.a)({},e,n))}},a.handleOpen=function(e){a.setState(Object(g.a)({open:!0},at(a.props)))},a.handleClose=function(){a.setState({open:!1}),a.props.onClose()},a.handleSubmit=function(){if(a.state.name){var e=a.state.value||0;a.props.rates[a.state.currency]||(a.props.fetchRates(a.state.currency),a.props.fetchRates(a.props.defaultCurrency)),a.props.addAccount({id:K(),name:a.state.name,groupId:a.state.groupId,currency:a.state.currency,value:e}),a.props.addHistory({text:"Created ".concat(a.state.name," account with ").concat(e," ").concat(a.state.currency," balance"),date:b()().format()}),a.props.hasAccounts||a.props.defaultCurrency===a.state.currency||(a.props.changeDefaultCurrency(a.state.currency),a.props.addHistory({text:"Default currency has been automatically changed to ".concat(a.state.currency),date:b()().format()})),a.handleClose()}else a.setState({nameFieldError:!0})},a.state=Object(g.a)({open:!1},at(e)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(et.a,{onClick:this.handleOpen},this.props.children),r.a.createElement(he.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ce.a,{id:"form-dialog-title"},"Add Account"),r.a.createElement(ye.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{error:this.state.nameFieldError,autoFocus:!0,fullWidth:!0,required:!0,label:"Account name",placeholder:"",value:this.state.name,onChange:this.handleChange("name"),InputLabelProps:{shrink:!0}}),r.a.createElement(Oe.a,{fullWidth:!0,select:!0,label:"Group",className:e.dense,value:this.state.groupId,onChange:this.handleChange("groupId"),SelectProps:{native:!0}},this.props.groups.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement(Oe.a,{fullWidth:!0,select:!0,label:"Currency",className:e.dense,value:this.state.currency,onChange:this.handleChange("currency"),SelectProps:{native:!0}},tt.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})),r.a.createElement(Oe.a,{fullWidth:!0,label:"Amount (optional)",placeholder:"0.00",type:"number",className:e.dense,value:this.state.value,onChange:this.handleChange("value"),InputLabelProps:{shrink:!0}}))),r.a.createElement(Ee.a,null,r.a.createElement(j.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(j.a,{onClick:this.handleSubmit,color:"primary"},"Add"))))}}]),t}(r.a.Component),rt=Object(C.a)(Object(p.b)(function(e){return{hasAccounts:Boolean(e.accounts.length),defaultCurrency:e.settings.defaultCurrency,groups:e.groups,rates:e.rates}},{addAccount:function(e){return{type:"ADD_ACCOUNT",payload:e}},addHistory:z,fetchRates:Z,changeDefaultCurrency:function(e){return{type:"CHANGE_DEFAULT_CURRENCY",payload:e}}}),Object(v.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:300},dense:{marginTop:3*e.spacing.unit}}}))(nt),ct=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1}),a.props.onClose()},a.handleSubmit=function(){a.props.resetData(),a.handleClose()},a.state={open:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(et.a,{onClick:this.handleOpen},"Reset"),r.a.createElement(he.a,{PaperProps:{className:e.dialog},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"reset-dialog-title"},r.a.createElement(Ce.a,{id:"reset-dialog-title"},"Reset Wallet"),r.a.createElement(ye.a,null,r.a.createElement(Ne.a,{className:e.dialogText},"Are you sure you want to reset the wallet data? This will remove all accounts, rates and history.")),r.a.createElement(Ee.a,null,r.a.createElement(j.a,{onClick:this.handleClose},"Cancel"),r.a.createElement(L.a,{to:"/",className:e.buttonLink},r.a.createElement(j.a,{onClick:this.handleSubmit,color:"secondary"},"Reset")))))}}]),t}(r.a.Component),ot=Object(C.a)(Object(v.withStyles)(function(e){return{dialog:{maxWidth:"80%",width:450},buttonLink:{textDecoration:"none"}}}),Object(p.b)(null,{resetData:function(){return{type:"RESET_DATA"}}}))(ct),lt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e){a.setState({menuAnchorEl:e.currentTarget})},a.handleClose=function(){a.setState({menuAnchorEl:null})},a.state={menuAnchorEl:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.menuAnchorEl;return r.a.createElement(Ye.a,{position:"static",color:"primary"},r.a.createElement(ze.a,null,r.a.createElement(T.a,{variant:"h6",color:"inherit",className:e.grow},r.a.createElement(L.a,{to:"/",className:e.link},"React Wallet")),r.a.createElement(we.a,{"aria-owns":t?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick,color:"inherit"},r.a.createElement(qe.a,null)),r.a.createElement($e.a,{id:"simple-menu",anchorEl:t,open:Boolean(t),onClose:this.handleClose},r.a.createElement(et.a,{component:rt,onClose:this.handleClose,className:e.menuItem},"Add Account"),r.a.createElement(et.a,{component:L.a,to:"/history",onClick:this.handleClose,className:e.menuItem},"History"),r.a.createElement(et.a,{component:ot,onClose:this.handleClose,className:e.menuItem},"Reset Data"))))}}]),t}(r.a.Component),ut=Object(v.withStyles)({grow:{flexGrow:1},link:{textDecoration:"none",color:"inherit"},menuItem:{minWidth:"120px"}})(lt),it=Object(C.a)(Object(p.b)(function(e){return{history:e.history}}),Object(v.withStyles)(function(e){return{empty:{padding:3*e.spacing.unit,paddingBottom:0,textAlign:"center"},right:{textAlign:"right"}}}))(function(e){var t=e.classes,a=e.history;return a.length?r.a.createElement(S.a,{component:"nav"},a.map(function(e,a){return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(k.a,null,r.a.createElement(I.a,{primary:e.text}),r.a.createElement(I.a,{primary:b()(e.date).calendar(),className:t.right})),r.a.createElement(W.a,null))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"h5",className:t.empty},"Your history is empty"),r.a.createElement(T.a,{variant:"subtitle1",className:t.empty},"Add some accounts and make some transfers to populate the list"))}),st=Object(p.b)()(function(){return r.a.createElement(h.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,null),r.a.createElement(f.a,null,r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(E.a,{path:"/history",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(E.a,{path:"/details/:accountId",render:function(e){return r.a.createElement(Ke,e)}}),r.a.createElement(E.a,{component:me}))))}),mt=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.accounts.map(function(e){return e.currency});Object(l.a)(new Set(e))>1&&this.props.fetchRates(this.props.defaultCurrency)}},{key:"render",value:function(){return r.a.createElement(st,null)}}]),t}(n.Component),dt=Object(p.b)(function(e){return{accounts:e.accounts,defaultCurrency:e.settings.defaultCurrency}},{fetchRates:Z})(mt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=a(149),ht=a(49),ft=a(150),Et=["Cash","Cards & Bank Accounts","Debts","Investments","Others"].map(function(e){return{id:K(),name:e}}),gt={defaultCurrency:"EUR"},yt=Object(ht.c)({accounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ACCOUNT":return[].concat(Object(l.a)(e),[t.payload]);case"EDIT_ACCOUNT":return e.map(function(e){return e.id===t.payload.id?Object(g.a)({},e,t.payload):e});case"DELETE_ACCOUNT":return e.filter(function(e){return e.id!==t.payload});case"MAKE_DEPOSIT":return e.map(function(e){return e.id===t.payload.accountId?Object(g.a)({},e,{value:Number(e.value)+t.payload.value}):e});case"MAKE_WITHDRAWAL":return e.map(function(e){return e.id===t.payload.accountId?Object(g.a)({},e,{value:Math.max(0,Number(e.value)-t.payload.value)}):e});case"MAKE_TRANSFER":return e.map(function(e){return e.id===t.payload.fromAccountId?Object(g.a)({},e,{value:Math.max(0,Number(e.value)-t.payload.fromAccountValue)}):e.id===t.payload.toAccountId?Object(g.a)({},e,{value:Number(e.value)+t.payload.toAccountValue}):e});default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_GROUP":return e.map(function(e){return e.id===t.payload.groupId?Object(g.a)({},e,{collapsed:t.payload.collapsed}):e});default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_HISTORY":return t.payload.text=t.payload.text.replace(/ {2}/g,""),[t.payload].concat(Object(l.a)(e));default:return e}},rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RATES_SUCCESS":return Object(g.a)({},e,t.payload);default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_DEFAULT_CURRENCY":return Object(g.a)({},e,{defaultCurrency:t.payload});default:return e}}}),bt=Object(g.a)({accounts:[],history:[],rates:{}},JSON.parse(localStorage.getItem("reactwallet"))),Ct=Object(ht.d)(function(e,t){return"RESET_DATA"===t.type&&(e=void 0),"LOAD_DEMO_DATA"===t.type&&(e=Object(g.a)({},e,{accounts:[{name:"Wallet",id:K(),currency:"USD",value:500,groupId:e.groups[0].id},{name:"Travel Change",id:K(),currency:"EUR",value:95,groupId:e.groups[0].id},{name:"Debit Card",id:K(),currency:"USD",value:8500,groupId:e.groups[1].id},{name:"TransferWise",id:K(),currency:"USD",value:1500,groupId:e.groups[1].id},{name:"Canadian Account",id:K(),currency:"CAD",value:500,groupId:e.groups[1].id},{name:"P2P Lending",id:K(),currency:"EUR",value:5e3,groupId:e.groups[3].id},{name:"Stocks",id:K(),currency:"USD",value:5e3,groupId:e.groups[3].id},{name:"Crypto funds",id:K(),currency:"USD",value:5e3,groupId:e.groups[3].id},{name:"PayPal",id:K(),currency:"USD",value:500,groupId:e.groups[4].id}],settings:{defaultCurrency:"USD"}})),yt(e,t)},bt,Object(ht.a)(ft.a));Ct.subscribe(Object(pt.throttle)(function(){localStorage.setItem("reactwallet",JSON.stringify(Ct.getState()))},1e3));var vt=Ct;o.a.render(r.a.createElement(p.a,{store:vt},r.a.createElement(dt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5364,2,1]]]);
//# sourceMappingURL=main.250ba3c6.chunk.js.map